{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"LenoreSchedule <p>   A schdule creator for departments      Explore the docs \u00bb Report Bug     \u00b7     Request Feature </p>"},{"location":"#about-the-project","title":"About The Project","text":"<p>A template for Django/Vue/Docker projects.  Please read instructions.txt for insutructions on how to use this template.</p> <p>(back to top)</p>"},{"location":"#built-with","title":"Built With","text":"<p>(back to top)</p>"},{"location":"#getting-started","title":"Getting Started","text":"<p>Welcome to LenoreSchedule! This guide will help you set up and run the application using Docker and Docker Compose.</p>"},{"location":"#prerequisites","title":"Prerequisites","text":"<p>Make sure you have the following installed on your system:</p> <ul> <li>Docker</li> <li>Docker Compose</li> </ul>"},{"location":"#step-1-create-a-env-file","title":"Step 1: Create a <code>.env</code> File","text":"<p>Create a <code>.env</code> file in the root directory of the project. This file will store environment variables required to run the application. Below is an example of the variables you need to define:</p> <pre><code>DEBUG=0\nSECRET_KEY=mysupersecretkey\nDJANGO_ALLOWED_HOSTS=localhost\nCSRF_TRUSTED_ORIGINS=http://localhost\nSQL_ENGINE=django.db.backends.postgresql\nSQL_DATABASE=LenoreSchedule\nSQL_USER=lenorescheduleuser\nSQL_PASSWORD=somepassword\nSQL_HOST=db\nSQL_PORT=5432\nDATABASE=postgres\nDJANGO_SUPERUSER_PASSWORD=suepervisorpassword\nDJANGO_SUPERUSER_EMAIL=someone@somewhere.com\nDJANGO_SUPERUSER_USERNAME=supervisor\nVITE_API_KEY=someapikey\nTIMEZONE=America/New_York\n</code></pre> <p>Adjust these values according to your environment and application requirements.</p>"},{"location":"#step-2-create-a-docker-composeyml-file","title":"Step 2: Create a <code>docker-compose.yml</code> File","text":"<p>Create a <code>docker-compose.yml</code> file in the root directory of the project. Below is an example configuration:</p> <pre><code>services:\n  frontend:\n    image: lenoreschedule_frontend:production\n    container_name: lenoreschedule_frontend\n    networks:\n      - default\n    restart: unless-stopped\n    expose:\n      - 80\n    env_file:\n      - ./.env\n    environment:\n      - TIMEZONE=America/New_York\n      - TZ=${TIMEZONE}\n  backend:\n    image: lenoreschedule_backend:production\n    container_name: lenoreschedule_backend\n    command: /home/app/web/start.sh\n    volumes:\n      - static_volume:/home/app/web/staticfiles\n      - media_volume:/home/app/web/mediafiles\n      - postgres_bkp:/backups/\n    expose:\n      - 8000\n    depends_on:\n      - db\n    networks:\n      - default\n      - backend\n    env_file:\n      - ./.env\n  worker:\n    image: lenoreschedule_worker:production\n    container_name: lenoreschedule_worker\n    command: /home/app/web/start_worker.sh\n    volumes:\n      - static_volume:/home/app/web/staticfiles\n      - media_volume:/home/app/web/mediafiles\n      - postgres_bkp:/backups/\n    depends_on:\n      - db\n      - backend\n    networks:\n      - default\n      - backend\n    env_file:\n      - ./.env\n  db:\n    image: postgres:18-trixie\n    container_name: lenoreschedule_db\n    volumes:\n      - postgres_data:/var/lib/postgresql/data/\n    env_file:\n      - ./.env\n    networks:\n      - default\n      - backend\n    environment:\n      - TZ=UTC\n      - POSTGRES_USER=${SQL_USER}\n      - POSTGRES_PASSWORD=${SQL_PASSWORD}\n      - POSTGRES_DB=${SQL_DATABASE}\n  nginx:\n    image: novanglus96/lenoreapps_proxy:latest\n    container_name: lenoreschedule_proxy\n    volumes:\n      - static_volume:/home/app/web/staticfiles\n      - media_volume:/home/app/web/mediafiles\n    depends_on:\n      - backend\n      - frontend\n    networks:\n      - default\n    ports:\n      - 7000:80\n    environment:\n      - TZ=${TIMEZONE}\n\nvolumes:\n  postgres_data:\n  static_volume:\n  media_volume:\n  postgres_bkp:\n\nnetworks:\n  backend:\n    internal: true\n</code></pre>"},{"location":"#step-3-run-the-application","title":"Step 3: Run the Application","text":"<ol> <li>Start the services:</li> </ol> <p><code>bash    docker compose up -d</code></p> <ol> <li>Access the application in your browser at <code>http://localhost:8080</code>.</li> </ol>"},{"location":"#notes","title":"Notes","text":"<ul> <li>Adjust exposed ports as needed for your environment.</li> <li>If you encounter any issues, ensure your <code>.env</code> file has the correct values and your Docker and Docker Compose installations are up to date.</li> </ul> <p>Enjoy using LenoreSchedule!</p> <p>(back to top)</p>"},{"location":"#usage","title":"Usage","text":"<p>See the full documentation.</p> <p>(back to top)</p>"},{"location":"#roadmap","title":"Roadmap","text":"<ul> <li>[ ] some feature</li> </ul> <p>See the open issues for a full list of proposed features (and known issues).</p> <p>(back to top)</p>"},{"location":"#contributing","title":"Contributing","text":"<p>Contributions are what make the open source community such an amazing place to learn, inspire, and create. Any contributions you make are greatly appreciated. Please follow these steps and guidelines to help us maintain a smooth development process.</p>"},{"location":"#1-fork-the-repository","title":"1. Fork the Repository","text":"<ul> <li>Click the Fork button at the top-right of this repository to create your own copy.</li> <li>Clone your fork locally.</li> </ul>"},{"location":"#2-branch-naming","title":"2. Branch Naming","text":"<p>Create branches following this pattern:</p> <ul> <li>Features: feature/branch-name - For new features or enhancements.</li> <li>Fixes: fix/branch-name - For bug fixes or patches.</li> </ul>"},{"location":"#3-pull-request-targets","title":"3. Pull Request Targets","text":"<p>Submit pull requests to the appropriate branch based on the stability of your changes:</p> Target Branch Purpose main Production-ready changes for release. rc Release candidates for staging releases. alpha Experimental and unstable changes. beta More stable than alpha, for broader testing. <p>PRs to main and rc branches are for finalized changes intended for the next release. PRs to alpha and beta are for testing and experimental work.</p>"},{"location":"#4-commit-message-format","title":"4. Commit Message Format","text":"<p>We use semantic commit messages to automate changelog and versioning.</p> <p>Format:</p> <pre><code>&lt;type&gt;(optional scope): &lt;short description&gt;\n</code></pre> Common types feat: A new feature fix: A bug fix chore: Changes to build process or auxiliary tools docs: Documentation only style: Formatting, missing semicolons, etc; no code change refactor: Code change that neither fixes a bug nor adds a feature perf: Performance improvements test: Adding or fixing tests <p>Breaking changes: Add ! after type or scope</p> <pre><code>feat!: drop support for Node 10\nfix(api)!: change endpoint response format\n</code></pre> <p>Examples:</p> <ul> <li>feat: add user profile page</li> <li>fix(auth): handle expired tokens gracefully</li> <li>chore: update dependencies</li> <li>perf: optimize image loading</li> </ul>"},{"location":"#5-pull-request-checklist","title":"5. Pull Request Checklist","text":"<p>Before submitting your PR, please ensure:</p> <ul> <li>Your branch is up to date with the target branch.</li> <li>Your code passes all tests and linters.</li> <li>You have added or updated tests if applicable.</li> <li>Relevant documentation has been added or updated.</li> <li>Your PR description clearly explains your changes and references related issues.</li> </ul>"},{"location":"#6-testing-changes","title":"6. Testing Changes","text":"<p>Please test your changes locally or in a staging environment before opening a PR. Use alpha or beta branches for testing experimental changes.</p> <p>(back to top)</p>"},{"location":"#license","title":"License","text":"<p>Distributed under the MIT License. See <code>LICENSE.txt</code> for more information.</p> <p>(back to top)</p>"},{"location":"#support","title":"Support","text":"<p>Or</p> <p> </p>"},{"location":"#contact","title":"Contact","text":"<p>John Adams - Lenore.Apps@gmail.com</p> <p>Project Link: https://github.com/Novanglus96/LenoreSchedule</p> <p>(back to top)</p>"},{"location":"#acknowledgements","title":"Acknowledgements","text":"<p>A heartfelt thanks to our Patrons for their generous support! Your contributions help us maintain and improve this project.</p>"},{"location":"#thank-you-to-our-supporters","title":"\u2b50 Thank You to Our Supporters:","text":"<p>Want to see your name here? Support us on Patreon to join our amazing community and shape the future of LenoreSchedule!</p> <p>(back to top)</p>"},{"location":"api/","title":"API","text":""},{"location":"api/#core","title":"Core","text":""},{"location":"api/#views","title":"Views","text":""},{"location":"api/#core.api.auth.login_view","title":"<code>login_view(request, payload)</code>","text":"<p>The function <code>login_view</code> logs a user in.</p> Endpoint <ul> <li>Path: <code>/api/v1/auth/login</code></li> <li>Method: <code>POST</code></li> </ul> <p>Parameters:</p> Name Type Description Default <code>request</code> <code>HttpRequest</code> <p>The HTTP request object.</p> required <code>payload</code> <code>LoginIn</code> <p>A loginIn object.</p> required <p>Returns:</p> Type Description <code>dict</code> <p>{success: True} if successful.</p> Source code in <code>backend/core/api/auth.py</code> <pre><code>@router.post(\"/auth/login\", auth=None)\ndef login_view(request: HttpRequest, payload: LoginIn):\n    \"\"\"\n    The function `login_view` logs a user in.\n\n    Endpoint:\n        - **Path**: `/api/v1/auth/login`\n        - **Method**: `POST`\n\n    Args:\n        request (HttpRequest): The HTTP request object.\n        payload (LoginIn): A loginIn object.\n\n    Returns:\n        (dict): {success: True} if successful.\n    \"\"\"\n    user = authenticate(\n        request,\n        username=payload.username,\n        password=payload.password,\n    )\n    if not user:\n        return 401, {\"detail\": \"Invalid credentials\"}\n\n    login(request, user)\n    return {\"success\": True}\n</code></pre>"},{"location":"api/#core.api.auth.logout_view","title":"<code>logout_view(request)</code>","text":"<p>The function <code>logout_view</code> logs out a user.</p> Endpoint <ul> <li>Path: <code>/api/v1/auth/logout</code></li> <li>Method: <code>POST</code></li> </ul> <p>Parameters:</p> Name Type Description Default <code>request</code> <code>HttpRequest</code> <p>The HTTP request object.</p> required <p>Returns:</p> Type Description <code>dict</code> <p>{success: True} if successful.</p> Source code in <code>backend/core/api/auth.py</code> <pre><code>@router.post(\"/auth/logout\", auth=None)\ndef logout_view(request: HttpRequest):\n    \"\"\"\n    The function `logout_view` logs out a user.\n\n    Endpoint:\n        - **Path**: `/api/v1/auth/logout`\n        - **Method**: `POST`\n\n    Args:\n        request (HttpRequest): The HTTP request object.\n\n    Returns:\n        (dict): {success: True} if successful.\n    \"\"\"\n    logout(request)\n    return {\"success\": True}\n</code></pre>"},{"location":"api/#core.api.auth.csrf","title":"<code>csrf(request)</code>","text":"<p>The function <code>csrf</code> returns the csrf token.</p> Endpoint <ul> <li>Path: <code>/api/v1/auth/csrf</code></li> <li>Method: <code>GET</code></li> </ul> <p>Parameters:</p> Name Type Description Default <code>request</code> <code>HttpRequest</code> <p>The HTTP request object.</p> required <p>Returns:</p> Type Description <code>dict</code> <p>{csrfToken: token} if successful.</p> Source code in <code>backend/core/api/auth.py</code> <pre><code>@router.get(\"/auth/csrf\")\ndef csrf(request: HttpRequest):\n    \"\"\"\n    The function `csrf` returns the csrf token.\n\n    Endpoint:\n        - **Path**: `/api/v1/auth/csrf`\n        - **Method**: `GET`\n\n    Args:\n        request (HttpRequest): The HTTP request object.\n\n    Returns:\n        (dict): {csrfToken: token} if successful.\n    \"\"\"\n    return {\"csrfToken\": get_token(request)}\n</code></pre>"},{"location":"api/#core.api.auth.me","title":"<code>me(request)</code>","text":"<p>The function <code>me</code> retrieves logged in user.</p> Endpoint <ul> <li>Path: <code>/api/v1/auth/me</code></li> <li>Method: <code>GET</code></li> </ul> <p>Parameters:</p> Name Type Description Default <code>request</code> <code>HttpRequest</code> <p>The HTTP request object.</p> required <p>Returns:</p> Type Description <code>dict</code> <p>{'username': username, 'is_staff': boolean} if successful</p> Source code in <code>backend/core/api/auth.py</code> <pre><code>@router.get(\"/auth/me\", auth=django_auth)\ndef me(request):\n    \"\"\"\n    The function `me` retrieves logged in user.\n\n    Endpoint:\n        - **Path**: `/api/v1/auth/me`\n        - **Method**: `GET`\n\n    Args:\n        request (HttpRequest): The HTTP request object.\n\n    Returns:\n        (dict): {'username': username, 'is_staff': boolean} if successful\n    \"\"\"\n    return {\n        \"username\": request.user.username,\n        \"is_staff\": request.user.is_staff,\n    }\n</code></pre>"},{"location":"api/#schemas","title":"Schemas","text":""},{"location":"api/#core.api.auth.LoginIn","title":"<code>LoginIn</code>","text":"<p>Schema to represent a Login.</p> <p>Attributes:</p> Name Type Description <code>username</code> <code>str</code> <p>The username of the login.</p> <code>password</code> <code>str</code> <p>The password of the login.</p> Source code in <code>backend/core/api/auth.py</code> <pre><code>class LoginIn(Schema):\n    \"\"\"\n    Schema to represent a Login.\n\n    Attributes:\n        username (str): The username of the login.\n        password (str): The password of the login.\n    \"\"\"\n\n    username: str\n    password: str\n</code></pre>"},{"location":"api/#options","title":"Options","text":""},{"location":"api/#views_1","title":"Views","text":""},{"location":"api/#options.api.views.health.health_check","title":"<code>health_check(request)</code>","text":"<p>The function <code>health_check</code> returns ok if backend is ready.</p> Endpoint <ul> <li>Path: <code>/api/v1/options/health</code></li> <li>Method: <code>GET</code></li> </ul> <p>Parameters:</p> Name Type Description Default <code>request</code> <code>HttpRequest</code> <p>The HTTP request object.</p> required <p>Returns:</p> Name Type Description <code>status</code> <code>str</code> <p>returns ok when backend is up</p> Source code in <code>backend/options/api/views/health.py</code> <pre><code>@health_router.get(\"/\", auth=None)\ndef health_check(request):\n    \"\"\"\n    The function `health_check` returns ok if backend is ready.\n\n    Endpoint:\n        - **Path**: `/api/v1/options/health`\n        - **Method**: `GET`\n\n    Args:\n        request (HttpRequest): The HTTP request object.\n\n    Returns:\n        status (str): returns ok when backend is up\n    \"\"\"\n    return {\"status\": \"ok\"}\n</code></pre>"},{"location":"api/#options.api.views.version.list_version","title":"<code>list_version(request)</code>","text":"<p>The function <code>list_version</code> retrieves the version.</p> Endpoint <ul> <li>Path: <code>/api/v1/options/version/list</code></li> <li>Method: <code>GET</code></li> </ul> <p>Parameters:</p> Name Type Description Default <code>request</code> <code>HttpRequest</code> <p>The HTTP request object.</p> required <p>Returns:</p> Type Description <code>VersionOut</code> <p>A version object.</p> Source code in <code>backend/options/api/views/version.py</code> <pre><code>@version_router.get(\"/list\", response=VersionOut)\ndef list_version(request):\n    \"\"\"\n    The function `list_version` retrieves the version.\n\n    Endpoint:\n        - **Path**: `/api/v1/options/version/list`\n        - **Method**: `GET`\n\n    Args:\n        request (HttpRequest): The HTTP request object.\n\n    Returns:\n        (VersionOut): A version object.\n    \"\"\"\n\n    try:\n        qs = get_object_or_404(Version, id=1)\n        api_logger.debug(\"Version retrieved\")\n        return qs\n    except Http404:\n        raise\n    except Exception as e:\n        # Log other types of exceptions\n        api_logger.error(\"Version not retrieved\")\n        error_logger.error(f\"{str(e)}\")\n        raise HttpError(500, \"Record retrieval error\")\n</code></pre>"},{"location":"api/#schemas_1","title":"Schemas","text":""},{"location":"api/#options.api.schemas.version.VersionOut","title":"<code>VersionOut</code>","text":"<p>Schema to represent a Version object.</p> <p>Attributes:</p> Name Type Description <code>id</code> <code>int</code> <p>ID of the Version object.</p> <code>version_number</code> <code>str</code> <p>The version number of the app.</p> Source code in <code>backend/options/api/schemas/version.py</code> <pre><code>class VersionOut(Schema):\n    \"\"\"\n    Schema to represent a Version object.\n\n    Attributes:\n        id (int): ID of the Version object.\n        version_number (str): The version number of the app.\n    \"\"\"\n\n    id: int\n    version_number: str\n\n    model_config = ConfigDict(from_attributes=True)\n</code></pre>"},{"location":"api/#groups","title":"Groups","text":""},{"location":"api/#views_2","title":"Views","text":""},{"location":"api/#staff.api.views.group.create_group","title":"<code>create_group(dto)</code>","text":"<p><code>create_group</code> creates a group if a duplicate group does not exist.</p> <p>Parameters:</p> Name Type Description Default <code>dto</code> <code>DomainGroupIn</code> <p>A domain group object.</p> required <p>Raises:</p> Type Description <code>GroupAlreadyExists</code> <p>Group already exists.</p> <code>GroupCreationError</code> <p>Groupe creation error.</p> <p>Returns:</p> Name Type Description <code>DomainGroup</code> <code>DomainGroup</code> <p>A domain group object.</p> Source code in <code>backend/staff/services/group_services.py</code> <pre><code>def create_group(dto: DomainGroupIn) -&gt; DomainGroup:\n    \"\"\"\n    `create_group` creates a group if a duplicate group does\n    not exist.\n\n    Args:\n        dto (DomainGroupIn): A domain group object.\n\n    Raises:\n        GroupAlreadyExists: Group already exists.\n        GroupCreationError: Groupe creation error.\n\n    Returns:\n        DomainGroup: A domain group object.\n    \"\"\"\n    if Group.objects.filter(group_name=dto.group_name).exists():\n        raise GroupAlreadyExists()\n\n    group = domain_group_to_model(dto)\n\n    try:\n        with transaction.atomic():\n            group.save()\n    except IntegrityError as e:\n        raise GroupCreationError() from e\n\n    return model_to_domain_group(group)\n</code></pre>"},{"location":"api/#staff.api.views.group.update_group","title":"<code>update_group(group_id, dto)</code>","text":"<p><code>update_group</code> updates a group</p> <p>Parameters:</p> Name Type Description Default <code>group_id</code> <code>int</code> <p>ID of the group to update.</p> required <code>dto</code> <code>DomainGroupIn</code> <p>The updated domain group object.</p> required <p>Raises:</p> Type Description <code>GroupAlreadyExists</code> <p>Group already exists.</p> <p>Returns:</p> Name Type Description <code>DomainGroup</code> <code>DomainGroup</code> <p>A domain group object.</p> Source code in <code>backend/staff/services/group_services.py</code> <pre><code>def update_group(group_id: int, dto: DomainGroupIn) -&gt; DomainGroup:\n    \"\"\"\n    `update_group` updates a group\n\n    Args:\n        group_id (int): ID of the group to update.\n        dto (DomainGroupIn): The updated domain group object.\n\n    Raises:\n        GroupAlreadyExists: Group already exists.\n\n    Returns:\n        DomainGroup: A domain group object.\n    \"\"\"\n    group = get_group_model_or_raise(group_id)\n\n    if Group.objects.filter(group_name=dto.group_name).exists():\n        raise GroupAlreadyExists()\n\n    if dto.group_name is not None:\n        group.group_name = dto.group_name\n\n    group.save()\n\n    return model_to_domain_group(group)\n</code></pre>"},{"location":"api/#staff.api.views.group.get_group","title":"<code>get_group(group_id)</code>","text":"<p><code>get_group</code> returns a domain group object.</p> <p>Parameters:</p> Name Type Description Default <code>group_id</code> <code>int</code> <p>ID of the group to get.</p> required <p>Returns:</p> Name Type Description <code>DomainGroup</code> <code>DomainGroup</code> <p>The domain group object.</p> Source code in <code>backend/staff/services/group_services.py</code> <pre><code>def get_group(group_id: int) -&gt; DomainGroup:\n    \"\"\"\n    `get_group` returns a domain group object.\n\n    Args:\n        group_id (int): ID of the group to get.\n\n    Returns:\n        DomainGroup: The domain group object.\n    \"\"\"\n    group = get_group_model_or_raise(group_id)\n\n    return model_to_domain_group(group)\n</code></pre>"},{"location":"api/#staff.api.views.group.list_groups","title":"<code>list_groups(request)</code>","text":"<p>The function <code>list_groups</code> retrieves a list of groups, orderd by group name ascending.</p> Endpoint <ul> <li>Path: <code>/api/v1/groups/list</code></li> <li>Method: <code>GET</code></li> </ul> <p>Parameters:</p> Name Type Description Default <code>request</code> <code>HttpRequest</code> <p>The HTTP request object.</p> required <p>Returns:</p> Type Description <code>List[GroupOut]</code> <p>a list of group objects</p> Source code in <code>backend/staff/api/views/group.py</code> <pre><code>@group_router.get(\"/list\", response=List[GroupOut])\ndef list_groups(request):\n    \"\"\"\n    The function `list_groups` retrieves a list of groups,\n    orderd by group name ascending.\n\n    Endpoint:\n        - **Path**: `/api/v1/groups/list`\n        - **Method**: `GET`\n\n    Args:\n        request (HttpRequest): The HTTP request object.\n\n    Returns:\n        (List[GroupOut]): a list of group objects\n    \"\"\"\n\n    try:\n        groups = get_ordered_list_of_groups()\n\n        return [domain_group_to_schema(g) for g in groups]\n    except Exception as e:\n        # Log other types of exceptions\n        api_logger.error(\"Group list not retrieved\")\n        error_logger.error(f\"{str(e)}\")\n        raise HttpError(500, \"Record retrieval error\")\n</code></pre>"},{"location":"api/#staff.api.views.group.delete_group","title":"<code>delete_group(group_id)</code>","text":"<p><code>delete_group</code> deletes a group and returns the deleted group name.</p> <p>Parameters:</p> Name Type Description Default <code>group_id</code> <code>int</code> <p>The id of the group to delete.</p> required <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The name of the deleted group.</p> Source code in <code>backend/staff/services/group_services.py</code> <pre><code>def delete_group(group_id: int) -&gt; str:\n    \"\"\"\n    `delete_group` deletes a group and returns the deleted group name.\n\n    Args:\n        group_id (int): The id of the group to delete.\n\n    Returns:\n        str: The name of the deleted group.\n    \"\"\"\n    group = get_group_model_or_raise(group_id)\n    group_name = group.group_name\n\n    group.delete()\n    return group_name\n</code></pre>"},{"location":"api/#schemas_2","title":"Schemas","text":""},{"location":"api/#staff.api.schemas.group.GroupIn","title":"<code>GroupIn</code>","text":"<p>Schema to validate a Group object.</p> <p>Attributes:</p> Name Type Description <code>group_name</code> <code>str</code> <p>The name of the group. Unique.</p> Source code in <code>backend/staff/api/schemas/group.py</code> <pre><code>class GroupIn(Schema):\n    \"\"\"\n    Schema to validate a Group object.\n\n    Attributes:\n        group_name (str): The name of the group. Unique.\n    \"\"\"\n\n    group_name: str\n</code></pre>"},{"location":"api/#staff.api.schemas.group.GroupOut","title":"<code>GroupOut</code>","text":"<p>Schema to represent a Group object.</p> <p>Attributes:</p> Name Type Description <code>id</code> <code>int</code> <p>ID of the Group object.</p> <code>group_name</code> <code>str</code> <p>The name of the group. Unique.</p> Source code in <code>backend/staff/api/schemas/group.py</code> <pre><code>class GroupOut(Schema):\n    \"\"\"\n    Schema to represent a Group object.\n\n    Attributes:\n        id (int): ID of the Group object.\n        group_name (str): The name of the group. Unique.\n    \"\"\"\n\n    id: int\n    group_name: str\n\n    model_config = ConfigDict(from_attributes=True)\n</code></pre>"},{"location":"api/#divisions","title":"Divisions","text":""},{"location":"api/#views_3","title":"Views","text":""},{"location":"api/#staff.api.views.division.create_division","title":"<code>create_division(dto)</code>","text":"<p><code>create_division</code> creates a division if a duplicate division does not exist.</p> <p>Parameters:</p> Name Type Description Default <code>dto</code> <code>DomainDivisionIn</code> <p>A domain division object.</p> required <p>Raises:</p> Type Description <code>DivisionAlreadyExists</code> <p>Division already exists.</p> <code>DivisionCreationError</code> <p>Divisione creation error.</p> <p>Returns:</p> Name Type Description <code>DomainDivision</code> <code>DomainDivision</code> <p>A domain division object.</p> Source code in <code>backend/staff/services/division_services.py</code> <pre><code>def create_division(dto: DomainDivisionIn) -&gt; DomainDivision:\n    \"\"\"\n    `create_division` creates a division if a duplicate division does\n    not exist.\n\n    Args:\n        dto (DomainDivisionIn): A domain division object.\n\n    Raises:\n        DivisionAlreadyExists: Division already exists.\n        DivisionCreationError: Divisione creation error.\n\n    Returns:\n        DomainDivision: A domain division object.\n    \"\"\"\n    if Division.objects.filter(division_name=dto.division_name).exists():\n        raise DivisionAlreadyExists()\n\n    division = domain_division_to_model(dto)\n\n    try:\n        with transaction.atomic():\n            division.save()\n    except IntegrityError as e:\n        raise DivisionCreationError() from e\n\n    return model_to_domain_division(division)\n</code></pre>"},{"location":"api/#staff.api.views.division.update_division","title":"<code>update_division(division_id, dto)</code>","text":"<p><code>update_division</code> updates a division</p> <p>Parameters:</p> Name Type Description Default <code>division_id</code> <code>int</code> <p>ID of the division to update.</p> required <code>dto</code> <code>DomainDivisionIn</code> <p>The updated domain division object.</p> required <p>Raises:</p> Type Description <code>DivisionAlreadyExists</code> <p>Division already exists.</p> <p>Returns:</p> Name Type Description <code>DomainDivision</code> <code>DomainDivision</code> <p>A domain division object.</p> Source code in <code>backend/staff/services/division_services.py</code> <pre><code>def update_division(division_id: int, dto: DomainDivisionIn) -&gt; DomainDivision:\n    \"\"\"\n    `update_division` updates a division\n\n    Args:\n        division_id (int): ID of the division to update.\n        dto (DomainDivisionIn): The updated domain division object.\n\n    Raises:\n        DivisionAlreadyExists: Division already exists.\n\n    Returns:\n        DomainDivision: A domain division object.\n    \"\"\"\n    division = get_division_model_or_raise(division_id)\n\n    if Division.objects.filter(division_name=dto.division_name).exists():\n        raise DivisionAlreadyExists()\n\n    if dto.division_name is not None:\n        division.division_name = dto.division_name\n\n    division.save()\n\n    return model_to_domain_division(division)\n</code></pre>"},{"location":"api/#staff.api.views.division.get_division","title":"<code>get_division(division_id)</code>","text":"<p><code>get_division</code> returns a domain division object.</p> <p>Parameters:</p> Name Type Description Default <code>division_id</code> <code>int</code> <p>ID of the division to get.</p> required <p>Returns:</p> Name Type Description <code>DomainDivision</code> <code>DomainDivision</code> <p>The domain division object.</p> Source code in <code>backend/staff/services/division_services.py</code> <pre><code>def get_division(division_id: int) -&gt; DomainDivision:\n    \"\"\"\n    `get_division` returns a domain division object.\n\n    Args:\n        division_id (int): ID of the division to get.\n\n    Returns:\n        DomainDivision: The domain division object.\n    \"\"\"\n    division = get_division_model_or_raise(division_id)\n\n    return model_to_domain_division(division)\n</code></pre>"},{"location":"api/#staff.api.views.division.list_divisions","title":"<code>list_divisions(request)</code>","text":"<p>The function <code>list_divisions</code> retrieves a list of divisions, orderd by division name ascending.</p> Endpoint <ul> <li>Path: <code>/api/v1/divisions/list</code></li> <li>Method: <code>GET</code></li> </ul> <p>Parameters:</p> Name Type Description Default <code>request</code> <code>HttpRequest</code> <p>The HTTP request object.</p> required <p>Returns:</p> Type Description <code>List[DivisionOut]</code> <p>a list of division objects</p> Source code in <code>backend/staff/api/views/division.py</code> <pre><code>@division_router.get(\"/list\", response=List[DivisionOut])\ndef list_divisions(request):\n    \"\"\"\n    The function `list_divisions` retrieves a list of divisions,\n    orderd by division name ascending.\n\n    Endpoint:\n        - **Path**: `/api/v1/divisions/list`\n        - **Method**: `GET`\n\n    Args:\n        request (HttpRequest): The HTTP request object.\n\n    Returns:\n        (List[DivisionOut]): a list of division objects\n    \"\"\"\n\n    try:\n        divisions = get_ordered_list_of_divisions()\n\n        return [domain_division_to_schema(g) for g in divisions]\n    except Exception as e:\n        # Log other types of exceptions\n        api_logger.error(\"Division list not retrieved\")\n        error_logger.error(f\"{str(e)}\")\n        raise HttpError(500, \"Record retrieval error\")\n</code></pre>"},{"location":"api/#staff.api.views.division.delete_division","title":"<code>delete_division(division_id)</code>","text":"<p><code>delete_division</code> deletes a division and returns the deleted division name.</p> <p>Parameters:</p> Name Type Description Default <code>division_id</code> <code>int</code> <p>The id of the division to delete.</p> required <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The name of the deleted division.</p> Source code in <code>backend/staff/services/division_services.py</code> <pre><code>def delete_division(division_id: int) -&gt; str:\n    \"\"\"\n    `delete_division` deletes a division and returns the deleted division name.\n\n    Args:\n        division_id (int): The id of the division to delete.\n\n    Returns:\n        str: The name of the deleted division.\n    \"\"\"\n    division = get_division_model_or_raise(division_id)\n    division_name = division.division_name\n\n    division.delete()\n    return division_name\n</code></pre>"},{"location":"api/#schemas_3","title":"Schemas","text":""},{"location":"api/#staff.api.schemas.division.DivisionIn","title":"<code>DivisionIn</code>","text":"<p>Schema to validate a Division object.</p> <p>Attributes:</p> Name Type Description <code>division_name</code> <code>str</code> <p>The name of the division. Unique.</p> Source code in <code>backend/staff/api/schemas/division.py</code> <pre><code>class DivisionIn(Schema):\n    \"\"\"\n    Schema to validate a Division object.\n\n    Attributes:\n        division_name (str): The name of the division. Unique.\n    \"\"\"\n\n    division_name: str\n</code></pre>"},{"location":"api/#staff.api.schemas.division.DivisionOut","title":"<code>DivisionOut</code>","text":"<p>Schema to represent a Division object.</p> <p>Attributes:</p> Name Type Description <code>id</code> <code>int</code> <p>ID of the Division object.</p> <code>division_name</code> <code>str</code> <p>The name of the division. Unique.</p> Source code in <code>backend/staff/api/schemas/division.py</code> <pre><code>class DivisionOut(Schema):\n    \"\"\"\n    Schema to represent a Division object.\n\n    Attributes:\n        id (int): ID of the Division object.\n        division_name (str): The name of the division. Unique.\n    \"\"\"\n\n    id: int\n    division_name: str\n\n    model_config = ConfigDict(from_attributes=True)\n</code></pre>"},{"location":"api/#locations","title":"Locations","text":""},{"location":"api/#views_4","title":"Views","text":""},{"location":"api/#staff.api.views.location.create_location","title":"<code>create_location(dto)</code>","text":"<p><code>create_location</code> creates a location if a duplicate location does not exist.</p> <p>Parameters:</p> Name Type Description Default <code>dto</code> <code>DomainLocationIn</code> <p>A domain location object.</p> required <p>Raises:</p> Type Description <code>LocationAlreadyExists</code> <p>Location already exists.</p> <code>LocationCreationError</code> <p>Locatione creation error.</p> <p>Returns:</p> Name Type Description <code>DomainLocation</code> <code>DomainLocation</code> <p>A domain location object.</p> Source code in <code>backend/staff/services/location_services.py</code> <pre><code>def create_location(dto: DomainLocationIn) -&gt; DomainLocation:\n    \"\"\"\n    `create_location` creates a location if a duplicate location does\n    not exist.\n\n    Args:\n        dto (DomainLocationIn): A domain location object.\n\n    Raises:\n        LocationAlreadyExists: Location already exists.\n        LocationCreationError: Locatione creation error.\n\n    Returns:\n        DomainLocation: A domain location object.\n    \"\"\"\n    if Location.objects.filter(location_name=dto.location_name).exists():\n        raise LocationAlreadyExists()\n\n    location = domain_location_to_model(dto)\n\n    try:\n        with transaction.atomic():\n            location.save()\n    except IntegrityError as e:\n        raise LocationCreationError() from e\n\n    return model_to_domain_location(location)\n</code></pre>"},{"location":"api/#staff.api.views.location.update_location","title":"<code>update_location(location_id, dto)</code>","text":"<p><code>update_location</code> updates a location</p> <p>Parameters:</p> Name Type Description Default <code>location_id</code> <code>int</code> <p>ID of the location to update.</p> required <code>dto</code> <code>DomainLocationIn</code> <p>The updated domain location object.</p> required <p>Raises:</p> Type Description <code>LocationAlreadyExists</code> <p>Location already exists.</p> <p>Returns:</p> Name Type Description <code>DomainLocation</code> <code>DomainLocation</code> <p>A domain location object.</p> Source code in <code>backend/staff/services/location_services.py</code> <pre><code>def update_location(location_id: int, dto: DomainLocationIn) -&gt; DomainLocation:\n    \"\"\"\n    `update_location` updates a location\n\n    Args:\n        location_id (int): ID of the location to update.\n        dto (DomainLocationIn): The updated domain location object.\n\n    Raises:\n        LocationAlreadyExists: Location already exists.\n\n    Returns:\n        DomainLocation: A domain location object.\n    \"\"\"\n    location = get_location_model_or_raise(location_id)\n\n    if Location.objects.filter(location_name=dto.location_name).exists():\n        raise LocationAlreadyExists()\n\n    if dto.location_name is not None:\n        location.location_name = dto.location_name\n\n    location.save()\n\n    return model_to_domain_location(location)\n</code></pre>"},{"location":"api/#staff.api.views.location.get_location","title":"<code>get_location(location_id)</code>","text":"<p><code>get_location</code> returns a domain location object.</p> <p>Parameters:</p> Name Type Description Default <code>location_id</code> <code>int</code> <p>ID of the location to get.</p> required <p>Returns:</p> Name Type Description <code>DomainLocation</code> <code>DomainLocation</code> <p>The domain location object.</p> Source code in <code>backend/staff/services/location_services.py</code> <pre><code>def get_location(location_id: int) -&gt; DomainLocation:\n    \"\"\"\n    `get_location` returns a domain location object.\n\n    Args:\n        location_id (int): ID of the location to get.\n\n    Returns:\n        DomainLocation: The domain location object.\n    \"\"\"\n    location = get_location_model_or_raise(location_id)\n\n    return model_to_domain_location(location)\n</code></pre>"},{"location":"api/#staff.api.views.location.list_locations","title":"<code>list_locations(request)</code>","text":"<p>The function <code>list_locations</code> retrieves a list of locations, orderd by location name ascending.</p> Endpoint <ul> <li>Path: <code>/api/v1/locations/list</code></li> <li>Method: <code>GET</code></li> </ul> <p>Parameters:</p> Name Type Description Default <code>request</code> <code>HttpRequest</code> <p>The HTTP request object.</p> required <p>Returns:</p> Type Description <code>List[LocationOut]</code> <p>a list of location objects</p> Source code in <code>backend/staff/api/views/location.py</code> <pre><code>@location_router.get(\"/list\", response=List[LocationOut])\ndef list_locations(request):\n    \"\"\"\n    The function `list_locations` retrieves a list of locations,\n    orderd by location name ascending.\n\n    Endpoint:\n        - **Path**: `/api/v1/locations/list`\n        - **Method**: `GET`\n\n    Args:\n        request (HttpRequest): The HTTP request object.\n\n    Returns:\n        (List[LocationOut]): a list of location objects\n    \"\"\"\n\n    try:\n        locations = get_ordered_list_of_locations()\n\n        return [domain_location_to_schema(g) for g in locations]\n    except Exception as e:\n        # Log other types of exceptions\n        api_logger.error(\"Location list not retrieved\")\n        error_logger.error(f\"{str(e)}\")\n        raise HttpError(500, \"Record retrieval error\")\n</code></pre>"},{"location":"api/#staff.api.views.location.delete_location","title":"<code>delete_location(location_id)</code>","text":"<p><code>delete_location</code> deletes a location and returns the deleted location name.</p> <p>Parameters:</p> Name Type Description Default <code>location_id</code> <code>int</code> <p>The id of the location to delete.</p> required <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The name of the deleted location.</p> Source code in <code>backend/staff/services/location_services.py</code> <pre><code>def delete_location(location_id: int) -&gt; str:\n    \"\"\"\n    `delete_location` deletes a location and returns the deleted location name.\n\n    Args:\n        location_id (int): The id of the location to delete.\n\n    Returns:\n        str: The name of the deleted location.\n    \"\"\"\n    location = get_location_model_or_raise(location_id)\n    location_name = location.location_name\n\n    location.delete()\n    return location_name\n</code></pre>"},{"location":"api/#schemas_4","title":"Schemas","text":""},{"location":"api/#staff.api.schemas.location.LocationIn","title":"<code>LocationIn</code>","text":"<p>Schema to validate a Location object.</p> <p>Attributes:</p> Name Type Description <code>location_name</code> <code>str</code> <p>The name of the location. Unique.</p> Source code in <code>backend/staff/api/schemas/location.py</code> <pre><code>class LocationIn(Schema):\n    \"\"\"\n    Schema to validate a Location object.\n\n    Attributes:\n        location_name (str): The name of the location. Unique.\n    \"\"\"\n\n    location_name: str\n</code></pre>"},{"location":"api/#staff.api.schemas.location.LocationOut","title":"<code>LocationOut</code>","text":"<p>Schema to represent a Location object.</p> <p>Attributes:</p> Name Type Description <code>id</code> <code>int</code> <p>ID of the Location object.</p> <code>location_name</code> <code>str</code> <p>The name of the location. Unique.</p> Source code in <code>backend/staff/api/schemas/location.py</code> <pre><code>class LocationOut(Schema):\n    \"\"\"\n    Schema to represent a Location object.\n\n    Attributes:\n        id (int): ID of the Location object.\n        location_name (str): The name of the location. Unique.\n    \"\"\"\n\n    id: int\n    location_name: str\n\n    model_config = ConfigDict(from_attributes=True)\n</code></pre>"},{"location":"api/#employees","title":"Employees","text":""},{"location":"api/#views_5","title":"Views","text":""},{"location":"api/#staff.api.views.employee.create_employee","title":"<code>create_employee(dto)</code>","text":"<p><code>create_employee</code> creates a employee if a duplicate employee does not exist.</p> <p>Parameters:</p> Name Type Description Default <code>dto</code> <code>DomainEmployeeIn</code> <p>A domain employee object.</p> required <p>Raises:</p> Type Description <code>EmployeeAlreadyExists</code> <p>Employee already exists.</p> <code>EmployeeCreationError</code> <p>Employeee creation error.</p> <p>Returns:</p> Name Type Description <code>DomainEmployee</code> <code>DomainEmployee</code> <p>A domain employee object.</p> Source code in <code>backend/staff/services/employee_services.py</code> <pre><code>def create_employee(dto: DomainEmployeeIn) -&gt; DomainEmployee:\n    \"\"\"\n    `create_employee` creates a employee if a duplicate employee does\n    not exist.\n\n    Args:\n        dto (DomainEmployeeIn): A domain employee object.\n\n    Raises:\n        EmployeeAlreadyExists: Employee already exists.\n        EmployeeCreationError: Employeee creation error.\n\n    Returns:\n        DomainEmployee: A domain employee object.\n    \"\"\"\n    if Employee.objects.filter(email=dto.email).exists():\n        raise EmployeeAlreadyExists()\n\n    employee = domain_employee_to_model(dto)\n\n    try:\n        with transaction.atomic():\n            employee.save()\n    except IntegrityError as e:\n        raise EmployeeCreationError() from e\n\n    return model_to_domain_employee(employee)\n</code></pre>"},{"location":"api/#staff.api.views.employee.update_employee","title":"<code>update_employee(employee_id, dto)</code>","text":"<p><code>update_employee</code> updates a employee</p> <p>Parameters:</p> Name Type Description Default <code>employee_id</code> <code>int</code> <p>ID of the employee to update.</p> required <code>dto</code> <code>DomainEmployeeIn</code> <p>The updated domain employee object.</p> required <p>Raises:</p> Type Description <code>EmployeeAlreadyExists</code> <p>Employee already exists.</p> <p>Returns:</p> Name Type Description <code>DomainEmployee</code> <code>DomainEmployee</code> <p>A domain employee object.</p> Source code in <code>backend/staff/services/employee_services.py</code> <pre><code>def update_employee(employee_id: int, dto: DomainEmployeeIn) -&gt; DomainEmployee:\n    \"\"\"\n    `update_employee` updates a employee\n\n    Args:\n        employee_id (int): ID of the employee to update.\n        dto (DomainEmployeeIn): The updated domain employee object.\n\n    Raises:\n        EmployeeAlreadyExists: Employee already exists.\n\n    Returns:\n        DomainEmployee: A domain employee object.\n    \"\"\"\n    employee = get_employee_model_or_raise(employee_id)\n\n    if (\n        Employee.objects.filter(email=dto.email)\n        .exclude(id=employee_id)\n        .exists()\n    ):\n        raise EmployeeAlreadyExists()\n\n    if dto.first_name is not None:\n        employee.first_name = dto.first_name\n\n    if dto.last_name is not None:\n        employee.last_name = dto.last_name\n\n    if dto.email is not None:\n        employee.email = dto.email\n\n    if dto.group_id is not None:\n        employee.group_id = dto.group_id\n\n    if dto.division_id is not None:\n        employee.division_id = dto.division_id\n\n    if dto.location_id is not None:\n        employee.location_id = dto.location_id\n\n    if dto.start_date is not None:\n        employee.start_date = dto.start_date\n\n    if dto.end_date is not None:\n        employee.end_date = dto.end_date\n\n    employee.save()\n\n    return model_to_domain_employee(employee)\n</code></pre>"},{"location":"api/#staff.api.views.employee.get_employee","title":"<code>get_employee(employee_id)</code>","text":"<p><code>get_employee</code> returns a domain employee object.</p> <p>Parameters:</p> Name Type Description Default <code>employee_id</code> <code>int</code> <p>ID of the employee to get.</p> required <p>Returns:</p> Name Type Description <code>DomainEmployee</code> <code>DomainEmployee</code> <p>The domain employee object.</p> Source code in <code>backend/staff/services/employee_services.py</code> <pre><code>def get_employee(employee_id: int) -&gt; DomainEmployee:\n    \"\"\"\n    `get_employee` returns a domain employee object.\n\n    Args:\n        employee_id (int): ID of the employee to get.\n\n    Returns:\n        DomainEmployee: The domain employee object.\n    \"\"\"\n    employee = get_employee_model_or_raise(employee_id)\n\n    return model_to_domain_employee(employee)\n</code></pre>"},{"location":"api/#staff.api.views.employee.list_employees","title":"<code>list_employees(request)</code>","text":"<p>The function <code>list_employees</code> retrieves a list of employees, orderd by employee name ascending.</p> Endpoint <ul> <li>Path: <code>/api/v1/employees/list</code></li> <li>Method: <code>GET</code></li> </ul> <p>Parameters:</p> Name Type Description Default <code>request</code> <code>HttpRequest</code> <p>The HTTP request object.</p> required <p>Returns:</p> Type Description <code>List[EmployeeOut]</code> <p>a list of employee objects</p> Source code in <code>backend/staff/api/views/employee.py</code> <pre><code>@employee_router.get(\"/list\", response=List[EmployeeOut])\ndef list_employees(request):\n    \"\"\"\n    The function `list_employees` retrieves a list of employees,\n    orderd by employee name ascending.\n\n    Endpoint:\n        - **Path**: `/api/v1/employees/list`\n        - **Method**: `GET`\n\n    Args:\n        request (HttpRequest): The HTTP request object.\n\n    Returns:\n        (List[EmployeeOut]): a list of employee objects\n    \"\"\"\n\n    try:\n        employees = get_ordered_list_of_employees()\n\n        return [domain_employee_to_schema(g) for g in employees]\n    except Exception as e:\n        # Log other types of exceptions\n        api_logger.error(\"Employee list not retrieved\")\n        error_logger.error(f\"{str(e)}\")\n        raise HttpError(500, \"Record retrieval error\")\n</code></pre>"},{"location":"api/#staff.api.views.employee.delete_employee","title":"<code>delete_employee(employee_id)</code>","text":"<p><code>delete_employee</code> deletes a employee and returns the deleted employee name.</p> <p>Parameters:</p> Name Type Description Default <code>employee_id</code> <code>int</code> <p>The id of the employee to delete.</p> required <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The name of the deleted employee.</p> Source code in <code>backend/staff/services/employee_services.py</code> <pre><code>def delete_employee(employee_id: int) -&gt; str:\n    \"\"\"\n    `delete_employee` deletes a employee and returns the deleted employee name.\n\n    Args:\n        employee_id (int): The id of the employee to delete.\n\n    Returns:\n        str: The name of the deleted employee.\n    \"\"\"\n    employee = get_employee_model_or_raise(employee_id)\n    employee_name = f\"{employee.last_name}, {employee.first_name}\"\n\n    employee.delete()\n    return employee_name\n</code></pre>"},{"location":"api/#schemas_5","title":"Schemas","text":""},{"location":"api/#staff.api.schemas.employee.EmployeeIn","title":"<code>EmployeeIn</code>","text":"<p>Schema to validate a Employee object.</p> <p>Attributes:</p> Name Type Description <code>first_name</code> <code>str</code> <p>The first name of the employee. Required. 256 Max.</p> <code>last_name</code> <code>str</code> <p>The last name of the employee. Required. 256 Max.</p> <code>email</code> <code>str</code> <p>The email of the employee. Optional. 512 max.</p> <code>division_id</code> <code>int</code> <p>The ID of the employee division.</p> <code>group_id</code> <code>int</code> <p>The ID of the employee group.</p> <code>location_id</code> <code>int</code> <p>The ID of the employee location.</p> <code>start_date</code> <code>date</code> <p>The start date of the employee. Optional.</p> <code>end_date</code> <code>date</code> <p>The end date of the employee. Optional.</p> Source code in <code>backend/staff/api/schemas/employee.py</code> <pre><code>class EmployeeIn(Schema):\n    \"\"\"\n    Schema to validate a Employee object.\n\n    Attributes:\n        first_name (str): The first name of the employee. Required. 256 Max.\n        last_name (str): The last name of the employee. Required. 256 Max.\n        email (str): The email of the employee. Optional. 512 max.\n        division_id (int): The ID of the employee division.\n        group_id (int): The ID of the employee group.\n        location_id (int): The ID of the employee location.\n        start_date (date): The start date of the employee. Optional.\n        end_date (date): The end date of the employee. Optional.\n    \"\"\"\n\n    first_name: str\n    last_name: str\n    email: str\n    division_id: int\n    group_id: int\n    location_id: int\n    start_date: Optional[date] = None\n    end_date: Optional[date] = None\n</code></pre>"},{"location":"api/#staff.api.schemas.employee.EmployeeOut","title":"<code>EmployeeOut</code>","text":"<p>Schema to represent a Employee object.</p> <p>Attributes:</p> Name Type Description <code>id</code> <code>int</code> <p>ID of the Employee object.</p> <code>first_name</code> <code>str</code> <p>The first name of the employee. Required. 256 Max.</p> <code>last_name</code> <code>str</code> <p>The last name of the employee. Required. 256 Max.</p> <code>email</code> <code>str</code> <p>The email of the employee. Optional. 512 max.</p> <code>division</code> <code>DivisionOut</code> <p>The division of the employee.</p> <code>group</code> <code>GroupOut</code> <p>The group of the employee.</p> Source code in <code>backend/staff/api/schemas/employee.py</code> <pre><code>class EmployeeOut(Schema):\n    \"\"\"\n    Schema to represent a Employee object.\n\n    Attributes:\n        id (int): ID of the Employee object.\n        first_name (str): The first name of the employee. Required. 256 Max.\n        last_name (str): The last name of the employee. Required. 256 Max.\n        email (str): The email of the employee. Optional. 512 max.\n        division (DivisionOut): The division of the employee.\n        group (GroupOut): The group of the employee.\n    \"\"\"\n\n    id: int\n    first_name: str\n    last_name: str\n    email: str\n    division: DivisionOut\n    group: GroupOut\n    location: LocationOut\n    start_date: Optional[date] = None\n    end_date: Optional[date] = None\n\n    model_config = ConfigDict(from_attributes=True)\n</code></pre>"},{"location":"models/","title":"Models","text":""},{"location":"models/#options.models.SingletonModel","title":"<code>SingletonModel</code>","text":"<p>Class for repersenting a Singleton model.</p> Source code in <code>backend/options/models.py</code> <pre><code>class SingletonModel(models.Model):\n    \"\"\"\n    Class for repersenting a Singleton model.\n    \"\"\"\n\n    class Meta:\n        abstract = True\n\n    def save(self, *args, **kwargs):\n        \"\"\"\n        Overides the save to make sure there is only one instance of this model.\n\n        Raises:\n            ValidationError: A string stating there is already an instance of this\n            model.\n\n        Returns:\n            (SingletonModel): The singleton model.\n        \"\"\"\n        if not self.pk and self.__class__.objects.exists():\n            raise ValidationError(\"There is already one instance of this model\")\n        return super(SingletonModel, self).save(*args, **kwargs)\n\n    def delete(self, *args, **kwargs):\n        \"\"\"\n        Overrides delete so that you can not delete the singleton model.\n\n        Raises:\n             ValidationError: A string stating you can't delete this object.\n        \"\"\"\n        raise ValidationError(\"You cannot delete this object\")\n</code></pre>"},{"location":"models/#options.models.SingletonModel.save","title":"<code>save(*args, **kwargs)</code>","text":"<p>Overides the save to make sure there is only one instance of this model.</p> <p>Raises:</p> Type Description <code>ValidationError</code> <p>A string stating there is already an instance of this</p> <p>Returns:</p> Type Description <code>SingletonModel</code> <p>The singleton model.</p> Source code in <code>backend/options/models.py</code> <pre><code>def save(self, *args, **kwargs):\n    \"\"\"\n    Overides the save to make sure there is only one instance of this model.\n\n    Raises:\n        ValidationError: A string stating there is already an instance of this\n        model.\n\n    Returns:\n        (SingletonModel): The singleton model.\n    \"\"\"\n    if not self.pk and self.__class__.objects.exists():\n        raise ValidationError(\"There is already one instance of this model\")\n    return super(SingletonModel, self).save(*args, **kwargs)\n</code></pre>"},{"location":"models/#options.models.SingletonModel.delete","title":"<code>delete(*args, **kwargs)</code>","text":"<p>Overrides delete so that you can not delete the singleton model.</p> <p>Raises:</p> Type Description <code>ValidationError</code> <p>A string stating you can't delete this object.</p> Source code in <code>backend/options/models.py</code> <pre><code>def delete(self, *args, **kwargs):\n    \"\"\"\n    Overrides delete so that you can not delete the singleton model.\n\n    Raises:\n         ValidationError: A string stating you can't delete this object.\n    \"\"\"\n    raise ValidationError(\"You cannot delete this object\")\n</code></pre>"},{"location":"models/#options.models.Version","title":"<code>Version</code>","text":"<p>Model representing app version.</p> <p>Attributes:</p> Name Type Description <code>version_number</code> <code>CharField</code> <p>The current version of the app.</p> Source code in <code>backend/options/models.py</code> <pre><code>class Version(SingletonModel):\n    \"\"\"\n    Model representing app version.\n\n    Attributes:\n        version_number (CharField): The current version of the app.\n    \"\"\"\n\n    version_number = models.CharField(max_length=25)\n\n    def __str__(self):\n        \"\"\"\n        __str__ Overrides the string representation for Version and returns the\n        version number.\n\n        Returns:\n            (str): The string representation of the version number.\n        \"\"\"\n        return self.version_number\n</code></pre>"},{"location":"models/#options.models.Version.__str__","title":"<code>__str__()</code>","text":"<p>str Overrides the string representation for Version and returns the version number.</p> <p>Returns:</p> Type Description <code>str</code> <p>The string representation of the version number.</p> Source code in <code>backend/options/models.py</code> <pre><code>def __str__(self):\n    \"\"\"\n    __str__ Overrides the string representation for Version and returns the\n    version number.\n\n    Returns:\n        (str): The string representation of the version number.\n    \"\"\"\n    return self.version_number\n</code></pre>"},{"location":"models/#staff.models.Group","title":"<code>Group</code>","text":"<p>Model representing a group to be used for employees.</p> <p>Attributes:</p> Name Type Description <code>group_name</code> <code>CharField</code> <p>The name of the group.  Unique.</p> Source code in <code>backend/staff/models.py</code> <pre><code>class Group(models.Model):\n    \"\"\"\n    Model representing a group to be used for employees.\n\n    Attributes:\n        group_name (CharField): The name of the group.  Unique.\n    \"\"\"\n\n    group_name = models.CharField(unique=True)\n\n    def __str__(self):\n        \"\"\"\n        __str__ Overrides the string representation for Group and returns the\n        group name.\n\n        Returns:\n            (str): The string representation of the group name.\n        \"\"\"\n        return f\"{self.group_name}\"\n</code></pre>"},{"location":"models/#staff.models.Group.__str__","title":"<code>__str__()</code>","text":"<p>str Overrides the string representation for Group and returns the group name.</p> <p>Returns:</p> Type Description <code>str</code> <p>The string representation of the group name.</p> Source code in <code>backend/staff/models.py</code> <pre><code>def __str__(self):\n    \"\"\"\n    __str__ Overrides the string representation for Group and returns the\n    group name.\n\n    Returns:\n        (str): The string representation of the group name.\n    \"\"\"\n    return f\"{self.group_name}\"\n</code></pre>"},{"location":"models/#staff.models.Division","title":"<code>Division</code>","text":"<p>Model representing a division to be used for employees.</p> <p>Attributes:</p> Name Type Description <code>division_name</code> <code>CharField</code> <p>The name of the division.  Unique.</p> Source code in <code>backend/staff/models.py</code> <pre><code>class Division(models.Model):\n    \"\"\"\n    Model representing a division to be used for employees.\n\n    Attributes:\n        division_name (CharField): The name of the division.  Unique.\n    \"\"\"\n\n    division_name = models.CharField(unique=True)\n\n    def __str__(self):\n        \"\"\"\n        __str__ Overrides the string representation for Division and returns the\n        division name.\n\n        Returns:\n            (str): The string representation of the division name.\n        \"\"\"\n        return f\"{self.division_name}\"\n</code></pre>"},{"location":"models/#staff.models.Division.__str__","title":"<code>__str__()</code>","text":"<p>str Overrides the string representation for Division and returns the division name.</p> <p>Returns:</p> Type Description <code>str</code> <p>The string representation of the division name.</p> Source code in <code>backend/staff/models.py</code> <pre><code>def __str__(self):\n    \"\"\"\n    __str__ Overrides the string representation for Division and returns the\n    division name.\n\n    Returns:\n        (str): The string representation of the division name.\n    \"\"\"\n    return f\"{self.division_name}\"\n</code></pre>"},{"location":"models/#staff.models.Location","title":"<code>Location</code>","text":"<p>Model representing a division to be used for employees.</p> <p>Attributes:</p> Name Type Description <code>division_name</code> <code>CharField</code> <p>The name of the division.  Unique.</p> Source code in <code>backend/staff/models.py</code> <pre><code>class Location(models.Model):\n    \"\"\"\n    Model representing a division to be used for employees.\n\n    Attributes:\n        division_name (CharField): The name of the division.  Unique.\n    \"\"\"\n\n    location_name = models.CharField(unique=True)\n\n    def __str__(self):\n        \"\"\"\n        __str__ Overrides the string representation for Location and returns the\n        location name.\n\n        Returns:\n            (str): The string representation of the location name.\n        \"\"\"\n        return f\"{self.location_name}\"\n</code></pre>"},{"location":"models/#staff.models.Location.__str__","title":"<code>__str__()</code>","text":"<p>str Overrides the string representation for Location and returns the location name.</p> <p>Returns:</p> Type Description <code>str</code> <p>The string representation of the location name.</p> Source code in <code>backend/staff/models.py</code> <pre><code>def __str__(self):\n    \"\"\"\n    __str__ Overrides the string representation for Location and returns the\n    location name.\n\n    Returns:\n        (str): The string representation of the location name.\n    \"\"\"\n    return f\"{self.location_name}\"\n</code></pre>"},{"location":"models/#staff.models.Employee","title":"<code>Employee</code>","text":"<p>Model representing an employee.</p> <p>Attributes:</p> Name Type Description <code>first_name</code> <code>CharField</code> <p>The first name of the employee. Required. 256 chars.</p> <code>last_name</code> <code>CharField</code> <p>The last name of the employee. Required. 256 chars.</p> <code>email</code> <code>CharField</code> <p>The email of the employee. 512 chars. Unique. Required.</p> <code>division</code> <code>ForeignKey</code> <p>The division of the employee.  Required.</p> <code>group</code> <code>ForeignKey</code> <p>The group for the employee. Required.</p> <code>location</code> <code>ForeignKey</code> <p>The locations for the employee. Required.</p> <code>start_date</code> <code>date</code> <p>The start date for the employee. Optional. Default None.</p> <code>end_date</code> <code>date</code> <p>The end date for the employee. Optional. Default None.</p> Source code in <code>backend/staff/models.py</code> <pre><code>class Employee(models.Model):\n    \"\"\"\n    Model representing an employee.\n\n    Attributes:\n        first_name (CharField): The first name of the employee. Required. 256 chars.\n        last_name (CharField): The last name of the employee. Required. 256 chars.\n        email (CharField): The email of the employee. 512 chars. Unique. Required.\n        division (ForeignKey): The division of the employee.  Required.\n        group (ForeignKey): The group for the employee. Required.\n        location (ForeignKey): The locations for the employee. Required.\n        start_date (date): The start date for the employee. Optional. Default None.\n        end_date (date): The end date for the employee. Optional. Default None.\n    \"\"\"\n\n    first_name = models.CharField(max_length=256)\n    last_name = models.CharField(max_length=256)\n    email = models.CharField(max_length=512, unique=True)\n    division = models.ForeignKey(Division, on_delete=models.CASCADE)\n    group = models.ForeignKey(Group, on_delete=models.CASCADE)\n    location = models.ForeignKey(Location, on_delete=models.CASCADE)\n    start_date = models.DateField(default=None, null=True, blank=True)\n    end_date = models.DateField(default=None, null=True, blank=True)\n\n    def __str__(self):\n        \"\"\"\n        __str__ Overrides the string representation for employee and returns last_name,\n        first_name.\n\n        Returns:\n            (str): The string representation of the employee.\n        \"\"\"\n        return f\"{self.last_name}, {self.first_name}\"\n</code></pre>"},{"location":"models/#staff.models.Employee.__str__","title":"<code>__str__()</code>","text":"<p>str Overrides the string representation for employee and returns last_name, first_name.</p> <p>Returns:</p> Type Description <code>str</code> <p>The string representation of the employee.</p> Source code in <code>backend/staff/models.py</code> <pre><code>def __str__(self):\n    \"\"\"\n    __str__ Overrides the string representation for employee and returns last_name,\n    first_name.\n\n    Returns:\n        (str): The string representation of the employee.\n    \"\"\"\n    return f\"{self.last_name}, {self.first_name}\"\n</code></pre>"},{"location":"services/","title":"Services","text":""},{"location":"services/#groups","title":"Groups","text":""},{"location":"services/#staff.services.group_services.get_group_model_or_raise","title":"<code>get_group_model_or_raise(group_id)</code>","text":"<p><code>get_group_model_or_raise</code> gets a group or raises an error if not found.</p> <p>Parameters:</p> Name Type Description Default <code>group_id</code> <code>int</code> <p>The id of the group to get.</p> required <p>Raises:</p> Type Description <code>GroupDoesNotExist</code> <p>Group does not exist.</p> <p>Returns:</p> Name Type Description <code>Group</code> <code>Group</code> <p>A group model object.</p> Source code in <code>backend/staff/services/group_services.py</code> <pre><code>def get_group_model_or_raise(group_id: int) -&gt; Group:\n    \"\"\"\n    `get_group_model_or_raise` gets a group or raises an error\n    if not found.\n\n    Args:\n        group_id (int): The id of the group to get.\n\n    Raises:\n        GroupDoesNotExist: Group does not exist.\n\n    Returns:\n        Group: A group model object.\n    \"\"\"\n    try:\n        return Group.objects.get(id=group_id)\n    except Group.DoesNotExist:\n        raise GroupDoesNotExist(group_id)\n</code></pre>"},{"location":"services/#staff.services.group_services.create_group","title":"<code>create_group(dto)</code>","text":"<p><code>create_group</code> creates a group if a duplicate group does not exist.</p> <p>Parameters:</p> Name Type Description Default <code>dto</code> <code>DomainGroupIn</code> <p>A domain group object.</p> required <p>Raises:</p> Type Description <code>GroupAlreadyExists</code> <p>Group already exists.</p> <code>GroupCreationError</code> <p>Groupe creation error.</p> <p>Returns:</p> Name Type Description <code>DomainGroup</code> <code>DomainGroup</code> <p>A domain group object.</p> Source code in <code>backend/staff/services/group_services.py</code> <pre><code>def create_group(dto: DomainGroupIn) -&gt; DomainGroup:\n    \"\"\"\n    `create_group` creates a group if a duplicate group does\n    not exist.\n\n    Args:\n        dto (DomainGroupIn): A domain group object.\n\n    Raises:\n        GroupAlreadyExists: Group already exists.\n        GroupCreationError: Groupe creation error.\n\n    Returns:\n        DomainGroup: A domain group object.\n    \"\"\"\n    if Group.objects.filter(group_name=dto.group_name).exists():\n        raise GroupAlreadyExists()\n\n    group = domain_group_to_model(dto)\n\n    try:\n        with transaction.atomic():\n            group.save()\n    except IntegrityError as e:\n        raise GroupCreationError() from e\n\n    return model_to_domain_group(group)\n</code></pre>"},{"location":"services/#staff.services.group_services.update_group","title":"<code>update_group(group_id, dto)</code>","text":"<p><code>update_group</code> updates a group</p> <p>Parameters:</p> Name Type Description Default <code>group_id</code> <code>int</code> <p>ID of the group to update.</p> required <code>dto</code> <code>DomainGroupIn</code> <p>The updated domain group object.</p> required <p>Raises:</p> Type Description <code>GroupAlreadyExists</code> <p>Group already exists.</p> <p>Returns:</p> Name Type Description <code>DomainGroup</code> <code>DomainGroup</code> <p>A domain group object.</p> Source code in <code>backend/staff/services/group_services.py</code> <pre><code>def update_group(group_id: int, dto: DomainGroupIn) -&gt; DomainGroup:\n    \"\"\"\n    `update_group` updates a group\n\n    Args:\n        group_id (int): ID of the group to update.\n        dto (DomainGroupIn): The updated domain group object.\n\n    Raises:\n        GroupAlreadyExists: Group already exists.\n\n    Returns:\n        DomainGroup: A domain group object.\n    \"\"\"\n    group = get_group_model_or_raise(group_id)\n\n    if Group.objects.filter(group_name=dto.group_name).exists():\n        raise GroupAlreadyExists()\n\n    if dto.group_name is not None:\n        group.group_name = dto.group_name\n\n    group.save()\n\n    return model_to_domain_group(group)\n</code></pre>"},{"location":"services/#staff.services.group_services.get_group","title":"<code>get_group(group_id)</code>","text":"<p><code>get_group</code> returns a domain group object.</p> <p>Parameters:</p> Name Type Description Default <code>group_id</code> <code>int</code> <p>ID of the group to get.</p> required <p>Returns:</p> Name Type Description <code>DomainGroup</code> <code>DomainGroup</code> <p>The domain group object.</p> Source code in <code>backend/staff/services/group_services.py</code> <pre><code>def get_group(group_id: int) -&gt; DomainGroup:\n    \"\"\"\n    `get_group` returns a domain group object.\n\n    Args:\n        group_id (int): ID of the group to get.\n\n    Returns:\n        DomainGroup: The domain group object.\n    \"\"\"\n    group = get_group_model_or_raise(group_id)\n\n    return model_to_domain_group(group)\n</code></pre>"},{"location":"services/#staff.services.group_services.get_ordered_list_of_groups","title":"<code>get_ordered_list_of_groups()</code>","text":"<p><code>get_ordered_list_of_groups</code> gets a list of domain group objects, ordered by group_name ascending.</p> <p>Returns:</p> Type Description <code>List[DomainGroup]</code> <p>List[DomainGroup]: A list of domain group objects.</p> Source code in <code>backend/staff/services/group_services.py</code> <pre><code>def get_ordered_list_of_groups() -&gt; List[DomainGroup]:\n    \"\"\"\n    `get_ordered_list_of_groups` gets a list of domain group objects, ordered\n    by group_name ascending.\n\n    Returns:\n        List[DomainGroup]: A list of domain group objects.\n    \"\"\"\n    groups = Group.objects.all().order_by(\"group_name\")\n\n    return [model_to_domain_group(g) for g in groups]\n</code></pre>"},{"location":"services/#staff.services.group_services.delete_group","title":"<code>delete_group(group_id)</code>","text":"<p><code>delete_group</code> deletes a group and returns the deleted group name.</p> <p>Parameters:</p> Name Type Description Default <code>group_id</code> <code>int</code> <p>The id of the group to delete.</p> required <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The name of the deleted group.</p> Source code in <code>backend/staff/services/group_services.py</code> <pre><code>def delete_group(group_id: int) -&gt; str:\n    \"\"\"\n    `delete_group` deletes a group and returns the deleted group name.\n\n    Args:\n        group_id (int): The id of the group to delete.\n\n    Returns:\n        str: The name of the deleted group.\n    \"\"\"\n    group = get_group_model_or_raise(group_id)\n    group_name = group.group_name\n\n    group.delete()\n    return group_name\n</code></pre>"},{"location":"services/#divisions","title":"Divisions","text":""},{"location":"services/#staff.services.division_services.get_division_model_or_raise","title":"<code>get_division_model_or_raise(division_id)</code>","text":"<p><code>get_division_model_or_raise</code> gets a division or raises an error if not found.</p> <p>Parameters:</p> Name Type Description Default <code>division_id</code> <code>int</code> <p>The id of the division to get.</p> required <p>Raises:</p> Type Description <code>DivisionDoesNotExist</code> <p>Division does not exist.</p> <p>Returns:</p> Name Type Description <code>Division</code> <code>Division</code> <p>A division model object.</p> Source code in <code>backend/staff/services/division_services.py</code> <pre><code>def get_division_model_or_raise(division_id: int) -&gt; Division:\n    \"\"\"\n    `get_division_model_or_raise` gets a division or raises an error\n    if not found.\n\n    Args:\n        division_id (int): The id of the division to get.\n\n    Raises:\n        DivisionDoesNotExist: Division does not exist.\n\n    Returns:\n        Division: A division model object.\n    \"\"\"\n    try:\n        return Division.objects.get(id=division_id)\n    except Division.DoesNotExist:\n        raise DivisionDoesNotExist(division_id)\n</code></pre>"},{"location":"services/#staff.services.division_services.create_division","title":"<code>create_division(dto)</code>","text":"<p><code>create_division</code> creates a division if a duplicate division does not exist.</p> <p>Parameters:</p> Name Type Description Default <code>dto</code> <code>DomainDivisionIn</code> <p>A domain division object.</p> required <p>Raises:</p> Type Description <code>DivisionAlreadyExists</code> <p>Division already exists.</p> <code>DivisionCreationError</code> <p>Divisione creation error.</p> <p>Returns:</p> Name Type Description <code>DomainDivision</code> <code>DomainDivision</code> <p>A domain division object.</p> Source code in <code>backend/staff/services/division_services.py</code> <pre><code>def create_division(dto: DomainDivisionIn) -&gt; DomainDivision:\n    \"\"\"\n    `create_division` creates a division if a duplicate division does\n    not exist.\n\n    Args:\n        dto (DomainDivisionIn): A domain division object.\n\n    Raises:\n        DivisionAlreadyExists: Division already exists.\n        DivisionCreationError: Divisione creation error.\n\n    Returns:\n        DomainDivision: A domain division object.\n    \"\"\"\n    if Division.objects.filter(division_name=dto.division_name).exists():\n        raise DivisionAlreadyExists()\n\n    division = domain_division_to_model(dto)\n\n    try:\n        with transaction.atomic():\n            division.save()\n    except IntegrityError as e:\n        raise DivisionCreationError() from e\n\n    return model_to_domain_division(division)\n</code></pre>"},{"location":"services/#staff.services.division_services.update_division","title":"<code>update_division(division_id, dto)</code>","text":"<p><code>update_division</code> updates a division</p> <p>Parameters:</p> Name Type Description Default <code>division_id</code> <code>int</code> <p>ID of the division to update.</p> required <code>dto</code> <code>DomainDivisionIn</code> <p>The updated domain division object.</p> required <p>Raises:</p> Type Description <code>DivisionAlreadyExists</code> <p>Division already exists.</p> <p>Returns:</p> Name Type Description <code>DomainDivision</code> <code>DomainDivision</code> <p>A domain division object.</p> Source code in <code>backend/staff/services/division_services.py</code> <pre><code>def update_division(division_id: int, dto: DomainDivisionIn) -&gt; DomainDivision:\n    \"\"\"\n    `update_division` updates a division\n\n    Args:\n        division_id (int): ID of the division to update.\n        dto (DomainDivisionIn): The updated domain division object.\n\n    Raises:\n        DivisionAlreadyExists: Division already exists.\n\n    Returns:\n        DomainDivision: A domain division object.\n    \"\"\"\n    division = get_division_model_or_raise(division_id)\n\n    if Division.objects.filter(division_name=dto.division_name).exists():\n        raise DivisionAlreadyExists()\n\n    if dto.division_name is not None:\n        division.division_name = dto.division_name\n\n    division.save()\n\n    return model_to_domain_division(division)\n</code></pre>"},{"location":"services/#staff.services.division_services.get_division","title":"<code>get_division(division_id)</code>","text":"<p><code>get_division</code> returns a domain division object.</p> <p>Parameters:</p> Name Type Description Default <code>division_id</code> <code>int</code> <p>ID of the division to get.</p> required <p>Returns:</p> Name Type Description <code>DomainDivision</code> <code>DomainDivision</code> <p>The domain division object.</p> Source code in <code>backend/staff/services/division_services.py</code> <pre><code>def get_division(division_id: int) -&gt; DomainDivision:\n    \"\"\"\n    `get_division` returns a domain division object.\n\n    Args:\n        division_id (int): ID of the division to get.\n\n    Returns:\n        DomainDivision: The domain division object.\n    \"\"\"\n    division = get_division_model_or_raise(division_id)\n\n    return model_to_domain_division(division)\n</code></pre>"},{"location":"services/#staff.services.division_services.get_ordered_list_of_divisions","title":"<code>get_ordered_list_of_divisions()</code>","text":"<p><code>get_ordered_list_of_divisions</code> gets a list of domain division objects, ordered by division_name ascending.</p> <p>Returns:</p> Type Description <code>List[DomainDivision]</code> <p>List[DomainDivision]: A list of domain division objects.</p> Source code in <code>backend/staff/services/division_services.py</code> <pre><code>def get_ordered_list_of_divisions() -&gt; List[DomainDivision]:\n    \"\"\"\n    `get_ordered_list_of_divisions` gets a list of domain division objects, ordered\n    by division_name ascending.\n\n    Returns:\n        List[DomainDivision]: A list of domain division objects.\n    \"\"\"\n    divisions = Division.objects.all().order_by(\"division_name\")\n\n    return [model_to_domain_division(g) for g in divisions]\n</code></pre>"},{"location":"services/#staff.services.division_services.delete_division","title":"<code>delete_division(division_id)</code>","text":"<p><code>delete_division</code> deletes a division and returns the deleted division name.</p> <p>Parameters:</p> Name Type Description Default <code>division_id</code> <code>int</code> <p>The id of the division to delete.</p> required <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The name of the deleted division.</p> Source code in <code>backend/staff/services/division_services.py</code> <pre><code>def delete_division(division_id: int) -&gt; str:\n    \"\"\"\n    `delete_division` deletes a division and returns the deleted division name.\n\n    Args:\n        division_id (int): The id of the division to delete.\n\n    Returns:\n        str: The name of the deleted division.\n    \"\"\"\n    division = get_division_model_or_raise(division_id)\n    division_name = division.division_name\n\n    division.delete()\n    return division_name\n</code></pre>"},{"location":"services/#locations","title":"Locations","text":""},{"location":"services/#staff.services.location_services.get_location_model_or_raise","title":"<code>get_location_model_or_raise(location_id)</code>","text":"<p><code>get_location_model_or_raise</code> gets a location or raises an error if not found.</p> <p>Parameters:</p> Name Type Description Default <code>location_id</code> <code>int</code> <p>The id of the location to get.</p> required <p>Raises:</p> Type Description <code>LocationDoesNotExist</code> <p>Location does not exist.</p> <p>Returns:</p> Name Type Description <code>Location</code> <code>Location</code> <p>A location model object.</p> Source code in <code>backend/staff/services/location_services.py</code> <pre><code>def get_location_model_or_raise(location_id: int) -&gt; Location:\n    \"\"\"\n    `get_location_model_or_raise` gets a location or raises an error\n    if not found.\n\n    Args:\n        location_id (int): The id of the location to get.\n\n    Raises:\n        LocationDoesNotExist: Location does not exist.\n\n    Returns:\n        Location: A location model object.\n    \"\"\"\n    try:\n        return Location.objects.get(id=location_id)\n    except Location.DoesNotExist:\n        raise LocationDoesNotExist(location_id)\n</code></pre>"},{"location":"services/#staff.services.location_services.create_location","title":"<code>create_location(dto)</code>","text":"<p><code>create_location</code> creates a location if a duplicate location does not exist.</p> <p>Parameters:</p> Name Type Description Default <code>dto</code> <code>DomainLocationIn</code> <p>A domain location object.</p> required <p>Raises:</p> Type Description <code>LocationAlreadyExists</code> <p>Location already exists.</p> <code>LocationCreationError</code> <p>Locatione creation error.</p> <p>Returns:</p> Name Type Description <code>DomainLocation</code> <code>DomainLocation</code> <p>A domain location object.</p> Source code in <code>backend/staff/services/location_services.py</code> <pre><code>def create_location(dto: DomainLocationIn) -&gt; DomainLocation:\n    \"\"\"\n    `create_location` creates a location if a duplicate location does\n    not exist.\n\n    Args:\n        dto (DomainLocationIn): A domain location object.\n\n    Raises:\n        LocationAlreadyExists: Location already exists.\n        LocationCreationError: Locatione creation error.\n\n    Returns:\n        DomainLocation: A domain location object.\n    \"\"\"\n    if Location.objects.filter(location_name=dto.location_name).exists():\n        raise LocationAlreadyExists()\n\n    location = domain_location_to_model(dto)\n\n    try:\n        with transaction.atomic():\n            location.save()\n    except IntegrityError as e:\n        raise LocationCreationError() from e\n\n    return model_to_domain_location(location)\n</code></pre>"},{"location":"services/#staff.services.location_services.update_location","title":"<code>update_location(location_id, dto)</code>","text":"<p><code>update_location</code> updates a location</p> <p>Parameters:</p> Name Type Description Default <code>location_id</code> <code>int</code> <p>ID of the location to update.</p> required <code>dto</code> <code>DomainLocationIn</code> <p>The updated domain location object.</p> required <p>Raises:</p> Type Description <code>LocationAlreadyExists</code> <p>Location already exists.</p> <p>Returns:</p> Name Type Description <code>DomainLocation</code> <code>DomainLocation</code> <p>A domain location object.</p> Source code in <code>backend/staff/services/location_services.py</code> <pre><code>def update_location(location_id: int, dto: DomainLocationIn) -&gt; DomainLocation:\n    \"\"\"\n    `update_location` updates a location\n\n    Args:\n        location_id (int): ID of the location to update.\n        dto (DomainLocationIn): The updated domain location object.\n\n    Raises:\n        LocationAlreadyExists: Location already exists.\n\n    Returns:\n        DomainLocation: A domain location object.\n    \"\"\"\n    location = get_location_model_or_raise(location_id)\n\n    if Location.objects.filter(location_name=dto.location_name).exists():\n        raise LocationAlreadyExists()\n\n    if dto.location_name is not None:\n        location.location_name = dto.location_name\n\n    location.save()\n\n    return model_to_domain_location(location)\n</code></pre>"},{"location":"services/#staff.services.location_services.get_location","title":"<code>get_location(location_id)</code>","text":"<p><code>get_location</code> returns a domain location object.</p> <p>Parameters:</p> Name Type Description Default <code>location_id</code> <code>int</code> <p>ID of the location to get.</p> required <p>Returns:</p> Name Type Description <code>DomainLocation</code> <code>DomainLocation</code> <p>The domain location object.</p> Source code in <code>backend/staff/services/location_services.py</code> <pre><code>def get_location(location_id: int) -&gt; DomainLocation:\n    \"\"\"\n    `get_location` returns a domain location object.\n\n    Args:\n        location_id (int): ID of the location to get.\n\n    Returns:\n        DomainLocation: The domain location object.\n    \"\"\"\n    location = get_location_model_or_raise(location_id)\n\n    return model_to_domain_location(location)\n</code></pre>"},{"location":"services/#staff.services.location_services.get_ordered_list_of_locations","title":"<code>get_ordered_list_of_locations()</code>","text":"<p><code>get_ordered_list_of_locations</code> gets a list of domain location objects, ordered by location_name ascending.</p> <p>Returns:</p> Type Description <code>List[DomainLocation]</code> <p>List[DomainLocation]: A list of domain location objects.</p> Source code in <code>backend/staff/services/location_services.py</code> <pre><code>def get_ordered_list_of_locations() -&gt; List[DomainLocation]:\n    \"\"\"\n    `get_ordered_list_of_locations` gets a list of domain location objects, ordered\n    by location_name ascending.\n\n    Returns:\n        List[DomainLocation]: A list of domain location objects.\n    \"\"\"\n    locations = Location.objects.all().order_by(\"location_name\")\n\n    return [model_to_domain_location(g) for g in locations]\n</code></pre>"},{"location":"services/#staff.services.location_services.delete_location","title":"<code>delete_location(location_id)</code>","text":"<p><code>delete_location</code> deletes a location and returns the deleted location name.</p> <p>Parameters:</p> Name Type Description Default <code>location_id</code> <code>int</code> <p>The id of the location to delete.</p> required <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The name of the deleted location.</p> Source code in <code>backend/staff/services/location_services.py</code> <pre><code>def delete_location(location_id: int) -&gt; str:\n    \"\"\"\n    `delete_location` deletes a location and returns the deleted location name.\n\n    Args:\n        location_id (int): The id of the location to delete.\n\n    Returns:\n        str: The name of the deleted location.\n    \"\"\"\n    location = get_location_model_or_raise(location_id)\n    location_name = location.location_name\n\n    location.delete()\n    return location_name\n</code></pre>"},{"location":"services/#employee","title":"Employee","text":""},{"location":"services/#staff.services.employee_services.get_employee_model_or_raise","title":"<code>get_employee_model_or_raise(employee_id)</code>","text":"<p><code>get_employee_model_or_raise</code> gets a employee or raises an error if not found.</p> <p>Parameters:</p> Name Type Description Default <code>employee_id</code> <code>int</code> <p>The id of the employee to get.</p> required <p>Raises:</p> Type Description <code>EmployeeDoesNotExist</code> <p>Employee does not exist.</p> <p>Returns:</p> Name Type Description <code>Employee</code> <code>Employee</code> <p>A employee model object.</p> Source code in <code>backend/staff/services/employee_services.py</code> <pre><code>def get_employee_model_or_raise(employee_id: int) -&gt; Employee:\n    \"\"\"\n    `get_employee_model_or_raise` gets a employee or raises an error\n    if not found.\n\n    Args:\n        employee_id (int): The id of the employee to get.\n\n    Raises:\n        EmployeeDoesNotExist: Employee does not exist.\n\n    Returns:\n        Employee: A employee model object.\n    \"\"\"\n    try:\n        return Employee.objects.get(id=employee_id)\n    except Employee.DoesNotExist:\n        raise EmployeeDoesNotExist(employee_id)\n</code></pre>"},{"location":"services/#staff.services.employee_services.create_employee","title":"<code>create_employee(dto)</code>","text":"<p><code>create_employee</code> creates a employee if a duplicate employee does not exist.</p> <p>Parameters:</p> Name Type Description Default <code>dto</code> <code>DomainEmployeeIn</code> <p>A domain employee object.</p> required <p>Raises:</p> Type Description <code>EmployeeAlreadyExists</code> <p>Employee already exists.</p> <code>EmployeeCreationError</code> <p>Employeee creation error.</p> <p>Returns:</p> Name Type Description <code>DomainEmployee</code> <code>DomainEmployee</code> <p>A domain employee object.</p> Source code in <code>backend/staff/services/employee_services.py</code> <pre><code>def create_employee(dto: DomainEmployeeIn) -&gt; DomainEmployee:\n    \"\"\"\n    `create_employee` creates a employee if a duplicate employee does\n    not exist.\n\n    Args:\n        dto (DomainEmployeeIn): A domain employee object.\n\n    Raises:\n        EmployeeAlreadyExists: Employee already exists.\n        EmployeeCreationError: Employeee creation error.\n\n    Returns:\n        DomainEmployee: A domain employee object.\n    \"\"\"\n    if Employee.objects.filter(email=dto.email).exists():\n        raise EmployeeAlreadyExists()\n\n    employee = domain_employee_to_model(dto)\n\n    try:\n        with transaction.atomic():\n            employee.save()\n    except IntegrityError as e:\n        raise EmployeeCreationError() from e\n\n    return model_to_domain_employee(employee)\n</code></pre>"},{"location":"services/#staff.services.employee_services.update_employee","title":"<code>update_employee(employee_id, dto)</code>","text":"<p><code>update_employee</code> updates a employee</p> <p>Parameters:</p> Name Type Description Default <code>employee_id</code> <code>int</code> <p>ID of the employee to update.</p> required <code>dto</code> <code>DomainEmployeeIn</code> <p>The updated domain employee object.</p> required <p>Raises:</p> Type Description <code>EmployeeAlreadyExists</code> <p>Employee already exists.</p> <p>Returns:</p> Name Type Description <code>DomainEmployee</code> <code>DomainEmployee</code> <p>A domain employee object.</p> Source code in <code>backend/staff/services/employee_services.py</code> <pre><code>def update_employee(employee_id: int, dto: DomainEmployeeIn) -&gt; DomainEmployee:\n    \"\"\"\n    `update_employee` updates a employee\n\n    Args:\n        employee_id (int): ID of the employee to update.\n        dto (DomainEmployeeIn): The updated domain employee object.\n\n    Raises:\n        EmployeeAlreadyExists: Employee already exists.\n\n    Returns:\n        DomainEmployee: A domain employee object.\n    \"\"\"\n    employee = get_employee_model_or_raise(employee_id)\n\n    if (\n        Employee.objects.filter(email=dto.email)\n        .exclude(id=employee_id)\n        .exists()\n    ):\n        raise EmployeeAlreadyExists()\n\n    if dto.first_name is not None:\n        employee.first_name = dto.first_name\n\n    if dto.last_name is not None:\n        employee.last_name = dto.last_name\n\n    if dto.email is not None:\n        employee.email = dto.email\n\n    if dto.group_id is not None:\n        employee.group_id = dto.group_id\n\n    if dto.division_id is not None:\n        employee.division_id = dto.division_id\n\n    if dto.location_id is not None:\n        employee.location_id = dto.location_id\n\n    if dto.start_date is not None:\n        employee.start_date = dto.start_date\n\n    if dto.end_date is not None:\n        employee.end_date = dto.end_date\n\n    employee.save()\n\n    return model_to_domain_employee(employee)\n</code></pre>"},{"location":"services/#staff.services.employee_services.get_employee","title":"<code>get_employee(employee_id)</code>","text":"<p><code>get_employee</code> returns a domain employee object.</p> <p>Parameters:</p> Name Type Description Default <code>employee_id</code> <code>int</code> <p>ID of the employee to get.</p> required <p>Returns:</p> Name Type Description <code>DomainEmployee</code> <code>DomainEmployee</code> <p>The domain employee object.</p> Source code in <code>backend/staff/services/employee_services.py</code> <pre><code>def get_employee(employee_id: int) -&gt; DomainEmployee:\n    \"\"\"\n    `get_employee` returns a domain employee object.\n\n    Args:\n        employee_id (int): ID of the employee to get.\n\n    Returns:\n        DomainEmployee: The domain employee object.\n    \"\"\"\n    employee = get_employee_model_or_raise(employee_id)\n\n    return model_to_domain_employee(employee)\n</code></pre>"},{"location":"services/#staff.services.employee_services.get_ordered_list_of_employees","title":"<code>get_ordered_list_of_employees()</code>","text":"<p><code>get_ordered_list_of_employees</code> gets a list of domain employee objects, ordered by last_name ascending, first_name ascending, id ascending.</p> <p>Returns:</p> Type Description <code>List[DomainEmployee]</code> <p>List[DomainEmployee]: A list of domain employee objects.</p> Source code in <code>backend/staff/services/employee_services.py</code> <pre><code>def get_ordered_list_of_employees() -&gt; List[DomainEmployee]:\n    \"\"\"\n    `get_ordered_list_of_employees` gets a list of domain employee objects, ordered\n    by last_name ascending, first_name ascending, id ascending.\n\n    Returns:\n        List[DomainEmployee]: A list of domain employee objects.\n    \"\"\"\n    employees = Employee.objects.all().order_by(\"last_name\", \"first_name\", \"id\")\n\n    return [model_to_domain_employee(g) for g in employees]\n</code></pre>"},{"location":"services/#staff.services.employee_services.delete_employee","title":"<code>delete_employee(employee_id)</code>","text":"<p><code>delete_employee</code> deletes a employee and returns the deleted employee name.</p> <p>Parameters:</p> Name Type Description Default <code>employee_id</code> <code>int</code> <p>The id of the employee to delete.</p> required <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The name of the deleted employee.</p> Source code in <code>backend/staff/services/employee_services.py</code> <pre><code>def delete_employee(employee_id: int) -&gt; str:\n    \"\"\"\n    `delete_employee` deletes a employee and returns the deleted employee name.\n\n    Args:\n        employee_id (int): The id of the employee to delete.\n\n    Returns:\n        str: The name of the deleted employee.\n    \"\"\"\n    employee = get_employee_model_or_raise(employee_id)\n    employee_name = f\"{employee.last_name}, {employee.first_name}\"\n\n    employee.delete()\n    return employee_name\n</code></pre>"},{"location":"utils/","title":"Utilities","text":""},{"location":"utils/#core","title":"Core","text":""},{"location":"utils/#auth","title":"Auth","text":""},{"location":"utils/#core.utils.auth.GlobalAuth","title":"<code>GlobalAuth</code>","text":"Source code in <code>backend/core/utils/auth.py</code> <pre><code>class GlobalAuth(HttpBearer):\n    def authenticate(self, request, token):\n        \"\"\"\n        The `authenticate` function authenticates the api endpoint.\n\n        Args:\n            request (HTTPRequest): The http request.\n            token (): CSRF Token\n\n        Returns:\n            (dict): {'type': api_key, 'name': service-account}\n        \"\"\"\n        api_key = getattr(settings, \"VITE_API_KEY\", None) or config(\n            \"VITE_API_KEY\", default=None\n        )\n\n        if api_key and token == api_key:\n            return {\n                \"type\": \"api_key\",\n                \"name\": \"service-account\",\n            }\n</code></pre>"},{"location":"utils/#version","title":"Version","text":""},{"location":"utils/#core.utils.version.get_version","title":"<code>get_version()</code>","text":"<p>The <code>get_version</code> function return the version from the version file.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The version of the app from the version file.</p> Source code in <code>backend/core/utils/version.py</code> <pre><code>def get_version() -&gt; str:\n    \"\"\"\n    The `get_version` function return the version from the version file.\n\n    Returns:\n        str: The version of the app from the version file.\n    \"\"\"\n    version_file = Path(__file__).resolve().parent.parent.parent / \"VERSION\"\n    return version_file.read_text().strip()\n</code></pre>"}]}